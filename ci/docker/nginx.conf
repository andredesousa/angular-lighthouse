worker_processes auto;

worker_rlimit_nofile 8192;

events {
  worker_connections 8000;
}

error_log /var/log/nginx/error.log warn;

pid /var/run/nginx.pid;

http {
  include mime.types;

  default_type application/octet-stream;

  access_log /var/log/nginx/access.log main;

  keepalive_timeout 20s;

  sendfile on;

  tcp_nopush on;

  gzip_static on;

  server {
    listen 8080 default_server;

    root /usr/share/nginx/html;
    index index.html index.htm;

    location / {
      try_files $uri $uri/ /index.html;
      add_header Cache-Control "no-store, no-cache, must-revalidate";
    }

    location ~* .(ico|css|js|json|gif|jpeg|jpg|png|woff|ttf|otf|svg|woff2|eot)$ {
      expires 1y;
      add_header Cache-Control "public";
    }
  }
}
